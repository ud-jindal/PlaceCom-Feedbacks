CKEDITOR.dialog.add("scaytcheck",function(t){function e(){return"undefined"!=typeof document.forms["optionsbar_"+p]?document.forms["optionsbar_"+p].options:[]}function i(t,e){if(t){var i=t.length;if(void 0==i)t.checked=t.value==e.toString();else for(var a=0;a<i;a++)t[a].checked=!1,t[a].value==e.toString()&&(t[a].checked=!0)}}function a(t){_.getById("dic_message_"+p).setHtml('<span style="color:red;">'+t+"</span>")}function n(t){_.getById("dic_message_"+p).setHtml('<span style="color:blue;">'+t+"</span>")}function o(t){for(var t=(""+t).split(","),e=0,i=t.length;e<i;e+=1)_.getById(t[e]).$.style.display="inline"}function l(t){for(var t=(""+t).split(","),e=0,i=t.length;e<i;e+=1)_.getById(t[e]).$.style.display="none"}function s(t){_.getById("dic_name_"+p).$.value=t}var d,c,r=!0,_=CKEDITOR.document,p=t.name,g=CKEDITOR.plugins.scayt.getUiTabs(t),y=[],m=0,u=["dic_create_"+p+",dic_restore_"+p,"dic_rename_"+p+",dic_delete_"+p],f=["mixedCase","mixedWithDigits","allCaps","ignoreDomainNames"];c=t.lang.scayt;var h=[{id:"options",label:c.optionsTab,elements:[{type:"html",id:"options",html:'<form name="optionsbar_'+p+'"><div class="inner_options">\t<div class="messagebox"></div>\t<div style="display:none;">\t\t<input type="checkbox" name="options"  id="allCaps_'+p+'" />\t\t<label style = "display: inline" for="allCaps" id="label_allCaps_'+p+'"></label>\t</div>\t<div style="display:none;">\t\t<input name="options" type="checkbox"  id="ignoreDomainNames_'+p+'" />\t\t<label style = "display: inline" for="ignoreDomainNames" id="label_ignoreDomainNames_'+p+'"></label>\t</div>\t<div style="display:none;">\t<input name="options" type="checkbox"  id="mixedCase_'+p+'" />\t\t<label style = "display: inline" for="mixedCase" id="label_mixedCase_'+p+'"></label>\t</div>\t<div style="display:none;">\t\t<input name="options" type="checkbox"  id="mixedWithDigits_'+p+'" />\t\t<label style = "display: inline" for="mixedWithDigits" id="label_mixedWithDigits_'+p+'"></label>\t</div></div></form>'}]},{id:"langs",label:c.languagesTab,elements:[{type:"html",id:"langs",html:'<form name="languagesbar_'+p+'"><div class="inner_langs">\t<div class="messagebox"></div>\t   <div style="float:left;width:45%;margin-left:5px;" id="scayt_lcol_'+p+'" ></div>   <div style="float:left;width:45%;margin-left:15px;" id="scayt_rcol_'+p+'"></div></div></form>'}]},{id:"dictionaries",label:c.dictionariesTab,elements:[{type:"html",style:"",id:"dictionaries",html:'<form name="dictionarybar_'+p+'"><div class="inner_dictionary" style="text-align:left; white-space:normal; width:320px; overflow: hidden;">\t<div style="margin:5px auto; width:95%;white-space:normal; overflow:hidden;" id="dic_message_'+p+'"> </div>\t<div style="margin:5px auto; width:95%;white-space:normal;">        <span class="cke_dialog_ui_labeled_label" >Dictionary name</span><br>\t\t<span class="cke_dialog_ui_labeled_content" >\t\t\t<div class="cke_dialog_ui_input_text">\t\t\t\t<input id="dic_name_'+p+'" type="text" class="cke_dialog_ui_input_text" style = "height: 25px; background: none; padding: 0;"/>\t\t</div></span></div>\t\t<div style="margin:5px auto; width:95%;white-space:normal;">\t\t\t<a style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_create_'+p+'">\t\t\t\t</a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_delete_'+p+'">\t\t\t\t</a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_rename_'+p+'">\t\t\t\t</a>\t\t\t<a  style="display:none;" class="cke_dialog_ui_button" href="javascript:void(0)" id="dic_restore_'+p+'">\t\t\t\t</a>\t\t</div>\t<div style="margin:5px auto; width:95%;white-space:normal;" id="dic_info_'+p+'"></div></div></form>'}]},{id:"about",label:c.aboutTab,elements:[{type:"html",id:"about",style:"margin: 5px 5px;",html:'<div id="scayt_about_'+p+'"></div>'}]}],v={title:c.title,minWidth:360,minHeight:220,onShow:function(){var e=this;if(e.data=t.fire("scaytDialog",{}),e.options=e.data.scayt_control.option(),e.chosed_lang=e.sLang=e.data.scayt_control.sLang,e.data&&e.data.scayt&&e.data.scayt_control){var i=0;r?e.data.scayt.getCaption(t.langCode||"en",function(t){0<i++||(d=t,b.apply(e),k.apply(e),r=!1)}):k.apply(e),e.selectPage(e.data.tab)}else alert("Error loading application service"),e.hide()},onOk:function(){var t=this.data.scayt_control;t.option(this.options),t.setLang(this.chosed_lang),t.refresh()},onCancel:function(){var t,a=e();for(t in a)a[t].checked=!1;a="undefined"!=typeof document.forms["languagesbar_"+p]?document.forms["languagesbar_"+p].scayt_lang:[],i(a,"")},contents:y};for(CKEDITOR.plugins.scayt.getScayt(t),c=0;c<g.length;c++)1==g[c]&&(y[y.length]=h[c]);1==g[2]&&(m=1);var b=function(){function t(t){var e=_.getById("dic_name_"+p).getValue();if(!e)return a(" Dictionary name should not be empty. "),!1;try{var i=t.data.getTarget().getParent();v[/(dic_\w+)_[\w\d]+/.exec(i.getId())[1]].apply(null,[i,e,u])}catch(t){a(" Dictionary error. ")}return!0}var e,i=this,c=i.data.scayt.getLangList(),r=["dic_create","dic_delete","dic_rename","dic_restore"],y=[],h=[];if(m){for(e=0;e<r.length;e++)y[e]=r[e]+"_"+p,_.getById(y[e]).setHtml('<span class="cke_dialog_ui_button">'+d["button_"+r[e]]+"</span>");_.getById("dic_info_"+p).setHtml(d.dic_info)}if(1==g[0])for(e in f)r="label_"+f[e],void 0!==(y=_.getById(r+"_"+p))&&"undefined"!=typeof d[r]&&"undefined"!=typeof i.options[f[e]]&&(y.setHtml(d[r]),y.getParent().$.style.display="block");if(r='<p><img src="'+window.scayt.getAboutInfo().logoURL+'" /></p><p>'+d.version+window.scayt.getAboutInfo().version.toString()+"</p><p>"+d.about_throwt_copy+"</p>",_.getById("scayt_about_"+p).setHtml(r),r=function(t,e){var a=_.createElement("label");a.setAttribute("for","cke_option"+t),a.setStyle("display","inline"),a.setHtml(e[t]),i.sLang==t&&(i.chosed_lang=t);var n=_.createElement("div"),o=CKEDITOR.dom.element.createFromHtml('<input class = "cke_dialog_ui_radio_input" id="cke_option'+t+'" type="radio" '+(i.sLang==t?'checked="checked"':"")+' value="'+t+'" name="scayt_lang" />');return o.on("click",function(){this.$.checked=!0,i.chosed_lang=t}),n.append(o),n.append(a),{lang:e[t],code:t,radio:n}},1==g[1]){for(e in c.rtl)h[h.length]=r(e,c.ltr);for(e in c.ltr)h[h.length]=r(e,c.ltr);for(h.sort(function(t,e){return e.lang>t.lang?-1:1}),c=_.getById("scayt_lcol_"+p),r=_.getById("scayt_rcol_"+p),e=0;e<h.length;e++)(e<h.length/2?c:r).append(h[e].radio)}var v={dic_create:function(t,e,i){var s=i[0]+","+i[1],c=d.err_dic_create,r=d.succ_dic_create;window.scayt.createUserDictionary(e,function(t){l(s),o(i[1]),r=r.replace("%s",t.dname),n(r)},function(t){c=c.replace("%s",t.dname),a(c+"( "+(t.message||"")+")")})},dic_rename:function(t,e){var i=d.err_dic_rename||"",o=d.succ_dic_rename||"";window.scayt.renameUserDictionary(e,function(t){o=o.replace("%s",t.dname),s(e),n(o)},function(t){i=i.replace("%s",t.dname),s(e),a(i+"( "+(t.message||"")+" )")})},dic_delete:function(t,e,i){var c=i[0]+","+i[1],r=d.err_dic_delete,_=d.succ_dic_delete;window.scayt.deleteUserDictionary(function(t){_=_.replace("%s",t.dname),l(c),o(i[0]),s(""),n(_)},function(t){r=r.replace("%s",t.dname),a(r)})}};for(v.dic_restore=i.dic_restore||function(t,e,i){var s=i[0]+","+i[1],c=d.err_dic_restore,r=d.succ_dic_restore;window.scayt.restoreUserDictionary(e,function(t){r=r.replace("%s",t.dname),l(s),o(i[1]),n(r)},function(t){c=c.replace("%s",t.dname),a(c)})},h=(u[0]+","+u[1]).split(","),e=0,c=h.length;e<c;e+=1)(r=_.getById(h[e]))&&r.on("click",t,this)},k=function(){var t=this;if(1==g[0])for(var a=e(),s=0,d=a.length;s<d;s++){var c=a[s].id,y=_.getById(c);y&&(a[s].checked=!1,1==t.options[c.split("_")[0]]&&(a[s].checked=!0),r)&&y.on("click",function(){t.options[this.getId().split("_")[0]]=this.$.checked?1:0})}1==g[1]&&(a=_.getById("cke_option"+t.sLang),i(a.$,t.sLang)),m&&(window.scayt.getNameUserDictionary(function(t){t=t.dname,l(u[0]+","+u[1]),t?(_.getById("dic_name_"+p).setValue(t),o(u[1])):o(u[0])},function(){_.getById("dic_name_"+p).setValue("")}),n(""))};return v});